{"version":3,"sources":["ad_price_vol.js"],"names":["earnings_stats","quarter","total_engagements","cost_per_engagement","xScale","d3","scaleLinear","domain","range","bar_area","select","max","yScale","attr","d","bar_width","selectAll","enter","append","Math","indexOf","text","data"],"mappings":"cAAC,WACC,GAAMA,KADPC,QAAW,UACVC,kBAAwB,GACtBC,oBADsB,KAGtBF,QAAA,UAHqBC,kBAIpB,GACDC,oBADC,IAGDF,QAAA,UAPqBC,kBAQpB,IACDC,qBADC,KAGDF,QAAA,UAXqBC,kBAYpB,IACDC,qBADC,KAGDF,QAAA,UAfqBC,kBAgBpB,IACDC,qBADC,KAGDF,QAAA,UAnBqBC,kBAoBpB,IACDC,qBADC,KAGDF,QAAA,UAvBqBC,kBAwBpB,GACDC,qBADC,KAGDC,EAAAC,GAAAC,cAAwBC,QA3B1B,EA6BAP,EAAkBM,OAAAA,IAOlBE,OAGI,GAHmC,MAUjCC,EAAWJ,GAAGK,cAAOH,QAC3BE,EACEJ,GAAAM,IAAOC,EAASV,SAAAA,GACfW,MAFHC,GAEaZ,sBAEVW,OACD,EALF,MAAAE,EAAA,GASAN,EAASO,GAAUN,OAAA,eAAsBV,OAAAA,KAAAA,KAAgBiB,KAAQC,WAC/DT,GAAOG,UAAOO,iBAAWhB,KAAAA,GAAzBc,QAAAC,OAAA,QAAAL,KAAA,QAAA,YAAAA,KAAA,QAAAE,GAAAF,KAAA,SAAA,SAAAC,GADF,MAEQF,GAAKE,EAAAZ,qBACXW,KAAA,IAAOT,SAAOJ,EAAAA,GAHhB,MAIQI,GAAKJ,EAAYoB,QAAAN,MACvBD,KAAA,IAASV,SAAAA,GALX,MAMM,KAASS,EAAAE,EAAAZ,qBACbG,GAAGK,QAAO,SAAVI,GAPFT,GAAAK,OAAA,aAAAW,KAAA,oDAAAP,EAAAb,QAAA,KAAAa,EAAAZ,kBAAA,OAUEO,EAAOK,UAAP,iBAAAQ,KAAAtB,GAAAiB,QAAAC,OAAA,QAAAL,KAAA,QAAA,YAAAA,KAAA,QAAAE,GAAAF,KAAA,SAAA,SAAAC,GADF,MAEQF,GAFRO,KAEkBN,IAAKC,EAFvBX,wBAGEU,KAAA,IAAOT,SAAOJ,EAAAA,GAHhB,MAIQI,GAAAJ,EAAsBc,QAAGA,IAAAC,IAC/BF,KAAA,IAAO,SAAAC,GALT,MAAAA,GAAAX,oBAAA,EAAA,IAAAS,EAAAE,EAAAX,qBAAA,MAOGO,GAAAA,QAAO,SAAAI,GACRT,GAAAK,OAASR,aAAAA,KAAT,8DAAAY,EAAAb,QAAA,KAAAa,EAAAX,oBAAA,OA1EHM,EAADO,UAAA,gBAAAM,KAAAtB,GAAAiB,QAAAC,OAAA,QAAAL,KAAA,QAAA,cAAAQ,KAAA,SAAAP,GAmEI,MAAOA,GAAEb,UACRY,KAAK,IAAK,KAAKA,KAAK,IAAK,SAASC,GACnC,MAAOV,GAAOJ,EAAeoB,QAAQN,MACpCD,KAAK,YAAa,SAASC,GAC5B,MAAO,aAAgBV,EAAOJ,EAAeoB,QAAQN,IAAO,UAE9DT,GAAGK,OAAO,qBAAqBW,KAAKhB,GAAGM,IAAIX,EAAgB,SAASc,GAClE,MAAOA,GAAEZ,oBACN","file":"ad_price_vol.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n    'quarter': 'Q1 2015',\n    'total_engagements': 32,\n    'cost_per_engagement': 30\n  }, {\n    'quarter': 'Q2 2015',\n    'total_engagements': 53,\n    'cost_per_engagement': 6\n  }, {\n    'quarter': 'Q3 2015',\n    'total_engagements': 165,\n    'cost_per_engagement': -39\n  }, {\n    'quarter': 'Q4 2015',\n    'total_engagements': 153,\n    'cost_per_engagement': -41\n  }, {\n    'quarter': 'Q1 2016',\n    'total_engagements': 208,\n    'cost_per_engagement': -56\n  }, {\n    'quarter': 'Q2 2016',\n    'total_engagements': 226,\n    'cost_per_engagement': -64\n  }, {\n    'quarter': 'Q3 2016',\n    'total_engagements': 91,\n    'cost_per_engagement': -44\n  }];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.total_engagements;\n    })\n  ]).range([\n    0,\n    175\n  ]);\n  const bar_width = 25;\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  bar_area.selectAll('rect.stat_one').data(earnings_stats).enter().append('rect').attr('class', 'stat_one').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.total_engagements);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('y', function(d) {\n    return 200 - yScale(d.total_engagements);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Year-over-year change in total ad engagements in ' + d.quarter + ': ' + d.total_engagements + '%');\n  });\n  bar_area.selectAll('rect.stat_two').data(earnings_stats).enter().append('rect').attr('class', 'stat_two').attr('width', bar_width).attr('height', function(d) {\n    return yScale(Math.abs(d.cost_per_engagement));\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d)) + bar_width;\n  }).attr('y', function(d) {\n    return d.cost_per_engagement > 0 ? 200 - yScale(d.cost_per_engagement) : 200;\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Year-over-year change in average cost per ad engagement in ' + d.quarter + ': ' + d.cost_per_engagement + '%');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 205).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(90 ' + (xScale(earnings_stats.indexOf(d))) + ' 205)';\n  });\n  d3.select('text#y_axis_label').text(d3.max(earnings_stats, function(d) {\n    return d.total_engagements;\n  }) + '%');\n}());\n"]}