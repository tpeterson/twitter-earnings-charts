{"version":3,"sources":["ad_on_off_rev.js"],"names":["earnings_stats","quarter","off_twitter","on_twitter","xScale","domain","length","range","bar_area","yScale","indexOf","d3","max","d","on","bar_width","attr","select","append","selectAll","data","enter","text","i"],"mappings":"cAAC,WACC,GAAMA,KADPC,QAAW,UACJD,WAAAA,IACFE,YAAW,MAEXD,QAAA,UACCE,WAAA,MACDD,YAAW,OAEXD,QAAA,UACCE,WAAA,MACDD,YAAW,KAEXD,QAAA,UACCE,WAAA,IACDD,YAAW,KAEXD,QAAA,UACCE,WAAA,MACDD,YAAW,OAEXD,QAAA,UACCE,WAAA,MACDD,YAAW,OAEXD,QAAA,UACCE,WAAA,IACDD,YAAW,KAEXD,QAAA,UACCE,WAAA,IACDD,YAAW,KAIbD,QAAA,UACEE,WAAW,IACXD,YAAc,KAIdD,QAAW,UACXE,WAAc,IACdD,YAAe,KAIfD,QAAA,UACAE,WAAe,IA9CnBD,YAAA,KA2DIE,EAASD,GAAAA,cAATE,QAHmC,EASvCL,EAAkBM,OAAlB,IACAC,OACAC,GACE,MAEAC,EAAOL,GAAOJ,cAAeU,QAH/B,EAKEC,GAAAC,IAAOZ,EAAeG,SAATU,GACZC,MAAGD,GANNV,eAAAI,OASAC,EACE,MAEAO,EAAcf,GACbgB,EAAUL,GAAAM,OAAY,eAAAC,OAAA,KAAAF,KAAA,KAAA,WACvBR,GAAOW,UAAMV,iBAAbW,KAAApB,GAAAqB,QAAAH,OAAA,QAAAF,KAAA,QAAA,YAAAA,KAAA,QAAAD,GAAAC,KAAA,SAAA,SAAAH,GALF,MAMMJ,GAASI,EAAAV,cACbQ,KAAGM,IAAO,SAAAJ,EAAaS,GAPzB,MAAAlB,GAAAJ,EAAAU,QAAAG,MASAL,KAAAA,IAASW,SAAUN,GACjB,MAAOA,KAAEZ,EAATY,EAAAV,cACCa,GAAAA,QAAU,SAAUH,GACrBF,GAAAM,OAAOb,aAAOJ,KAAAA,4BAAda,EAAAZ,QAAA,MAAAY,EAAAV,WAAA,cAEAK,EAAOW,UAAA,iBAAsBnB,KAAAA,GAAtBqB,QAAmDH,OAA1D,QAAAF,KAAA,QAAA,YAAAA,KAAA,QAAAD,GAAAC,KAAA,SAAA,SAAAH,GALF,MAAAJ,GAAAI,EAAAX,eAOGe,KAAAA,IAAO,SAAAJ,EAAAU,GACR,MAAOV,GAAEV,EAATO,QAAAG,IAAAE,IADkCC,KAE/B,IAAA,SAFLH,GA7FF,MAAA,KAAAJ,EAAAI,EAAAX,eAmFKY,GAAG,QAAS,SAASD,GACtBF,GAAGM,OAAO,aAAaK,KAAK,6BAA+BT,EAAEZ,QAAU,MAAQY,EAAEX,YAAc,cAEjGM,EAASW,UAAU,gBAAgBC,KAAKpB,GAAgBqB,QAAQH,OAAO,QAAQF,KAAK,QAAS,cAAcM,KAAK,SAAST,GACvH,MAAOA,GAAEZ,UACRe,KAAK,IAAK,KAAKA,KAAK,IAAK,SAASH,GACnC,MAAOT,GAAOJ,EAAeU,QAAQG,MACpCG,KAAK,YAAa,SAASH,GAC5B,MAAO,aAAeT,EAAOJ,EAAeU,QAAQG,IAAM,UAE5DF,GAAGM,OAAO,qBAAqBK,KAAK,IAAMX,GAAGC,IAAIZ,EAAgB,SAASa,GACxE,MAAOA,GAAEV,aACN","file":"ad_on_off_rev.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n      'quarter': 'Q1 2015',\n      'on_twitter': 379,\n      'off_twitter': 9.2\n    }, {\n      'quarter': 'Q2 2015',\n      'on_twitter': 417.8,\n      'off_twitter': 34.5\n    }, {\n      'quarter': 'Q3 2015',\n      'on_twitter': 446.9,\n      'off_twitter': 66\n    }, {\n      'quarter': 'Q4 2015',\n      'on_twitter': 556,\n      'off_twitter': 85\n    }, {\n      'quarter': 'Q1 2016',\n      'on_twitter': 467.3,\n      'off_twitter': 63.4\n    }, {\n      'quarter': 'Q2 2016',\n      'on_twitter': 480.7,\n      'off_twitter': 53.8\n    }, {\n      'quarter': 'Q3 2016',\n      'on_twitter': 487.0,\n      'off_twitter': 58.0\n    }, {\n      'quarter': 'Q4 2016',\n      'on_twitter': 553.0,\n      'off_twitter': 85.0\n    },\n    {\n      'quarter': 'Q1 2017',\n      'on_twitter': 415.0,\n      'off_twitter': 58.0\n    },\n    {\n      'quarter': 'Q2 2017',\n      'on_twitter': 436.0,\n      'off_twitter': 53.0\n    },\n    {\n      'quarter': 'Q3 2017',\n      'on_twitter': 455.0,\n      'off_twitter': 48.0\n    }\n  ];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.on_twitter;\n    })\n  ]).range([\n    0,\n    275\n  ]);\n  const bar_width = 25;\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  bar_area.selectAll('rect.stat_one').data(earnings_stats).enter().append('rect').attr('class', 'stat_one').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.on_twitter);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('y', function(d) {\n    return 300 - yScale(d.on_twitter);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('On-Twitter ad revenue in ' + d.quarter + ': $' + d.on_twitter + ' million');\n  });\n  bar_area.selectAll('rect.stat_two').data(earnings_stats).enter().append('rect').attr('class', 'stat_two').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.off_twitter);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d)) + bar_width;\n  }).attr('y', function(d) {\n    return 300 - yScale(d.off_twitter);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Off-Twitter ad revenue in ' + d.quarter + ': $' + d.off_twitter + ' million');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 325).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(40 ' + xScale(earnings_stats.indexOf(d)) + ' 325)';\n  });\n  d3.select('text#y_axis_label').text('$' + d3.max(earnings_stats, function(d) {\n    return d.on_twitter;\n  }) + ' million');\n}());\n"]}