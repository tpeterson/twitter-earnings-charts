{"version":3,"sources":["ad_on_off_rev.js"],"names":["earnings_stats","quarter","on_twitter","off_twitter","xScale","d3","scaleLinear","domain","range","bar_area","select","max","yScale","d","attr","bar_width","selectAll","enter","append","data","indexOf","text"],"mappings":"cAAC,WACC,GAAMA,KADPC,QAAW,UACVC,WAAMF,IACJG,YAAW,MAEXF,QAAA,UAHqBC,WAIpB,MACDC,YAAW,OAEXF,QAAA,UAPqBC,WAQpB,MACDC,YAAW,KAEXF,QAAA,UAXqBC,WAYpB,IACDC,YAAW,KAEXF,QAAA,UAfqBC,WAgBpB,MACDC,YAAW,OAEXF,QAAA,UAnBqBC,WAoBpB,MACDC,YAAW,OAEXF,QAAA,UAvBqBC,WAwBpB,IACDC,YAAW,KAEXF,QAAA,UA3BqBC,WA4BpB,IACDC,YAAW,KAEXC,EAAAC,GAAeC,cAAAC,QA/BjB,EAiCAP,EAAkBM,OAAAA,IAOlBE,OAGI,GAHmC,MAUjCC,EAAWJ,GAAGK,cAAOH,QAC3BE,EACEJ,GAAAM,IAAOC,EAASV,SAAhBW,GACCC,MAFHD,GAEaX,eAEVY,OACD,EALF,MAAAC,EAAA,GASAN,EAASO,GAAUN,OAAA,eAAsBV,OAAAA,KAAAA,KAAgBiB,KAAQC,WAC/DT,GAAOG,UAAST,iBAAhBgB,KAAAnB,GAAAiB,QAAAC,OAAA,QAAAJ,KAAA,QAAA,YAAAA,KAAA,QAAAC,GAAAD,KAAA,SAAA,SAAAD,GADF,MAEQD,GAAKC,EAAAX,cACXY,KAAA,IAAOV,SAAOJ,EAAAA,GAHhB,MAIQI,GAAKJ,EAAYoB,QAAAP,MACvBC,KAAA,IAAO,SAAaD,GALtB,MAMM,KAASD,EAAAC,EAAAX,cACbG,GAAGK,QAAO,SAAVG,GAPFR,GAAAK,OAAA,aAAAW,KAAA,4BAAAR,EAAAZ,QAAA,MAAAY,EAAAX,WAAA,cAUEO,EAAOI,UAAP,iBAAAM,KAAAnB,GAAAiB,QAAAC,OAAA,QAAAJ,KAAA,QAAA,YAAAA,KAAA,QAAAC,GAAAD,KAAA,SAAA,SAAAD,GADF,MAEQD,GAFRC,EAEkBC,eAChBA,KAAA,IAAOV,SAAOJ,EAAAA,GAHhB,MAIQI,GAAAJ,EAAsBa,QAAGA,IAAAE,IAC/BD,KAAA,IAAO,SAAAD,GALT,MAAA,KAAAD,EAAAC,EAAAV,eAOGO,GAAAA,QAAO,SAAAG,GACRR,GAAAK,OAASR,aAATmB,KAAA,6BAAAR,EAAAZ,QAAA,MAAAY,EAAAV,YAAA,cA9EHM,EAADO,UAAA,gBAAAG,KAAAnB,GAAAiB,QAAAC,OAAA,QAAAJ,KAAA,QAAA,cAAAO,KAAA,SAAAR,GAuEI,MAAOA,GAAEZ,UACRa,KAAK,IAAK,KAAKA,KAAK,IAAK,SAASD,GACnC,MAAOT,GAAOJ,EAAeoB,QAAQP,MACpCC,KAAK,YAAa,SAASD,GAC5B,MAAO,aAAeT,EAAOJ,EAAeoB,QAAQP,IAAM,UAE5DR,GAAGK,OAAO,qBAAqBW,KAAK,IAAMhB,GAAGM,IAAIX,EAAgB,SAASa,GACxE,MAAOA,GAAEX,aACN","file":"ad_on_off_rev.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n    'quarter': 'Q1 2015',\n    'on_twitter': 379,\n    'off_twitter': 9.2\n  }, {\n    'quarter': 'Q2 2015',\n    'on_twitter': 417.8,\n    'off_twitter': 34.5\n  }, {\n    'quarter': 'Q3 2015',\n    'on_twitter': 446.9,\n    'off_twitter': 66\n  }, {\n    'quarter': 'Q4 2015',\n    'on_twitter': 556,\n    'off_twitter': 85\n  }, {\n    'quarter': 'Q1 2016',\n    'on_twitter': 467.3,\n    'off_twitter': 63.4\n  }, {\n    'quarter': 'Q2 2016',\n    'on_twitter': 480.7,\n    'off_twitter': 53.8\n  }, {\n    'quarter': 'Q3 2016',\n    'on_twitter': 487.0,\n    'off_twitter': 58.0\n  }, {\n    'quarter': 'Q4 2016',\n    'on_twitter': 553.0,\n    'off_twitter': 85.0\n  }];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.on_twitter;\n    })\n  ]).range([\n    0,\n    275\n  ]);\n  const bar_width = 25;\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  bar_area.selectAll('rect.stat_one').data(earnings_stats).enter().append('rect').attr('class', 'stat_one').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.on_twitter);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('y', function(d) {\n    return 300 - yScale(d.on_twitter);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('On-Twitter ad revenue in ' + d.quarter + ': $' + d.on_twitter + ' million');\n  });\n  bar_area.selectAll('rect.stat_two').data(earnings_stats).enter().append('rect').attr('class', 'stat_two').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.off_twitter);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d)) + bar_width;\n  }).attr('y', function(d) {\n    return 300 - yScale(d.off_twitter);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Off-Twitter ad revenue in ' + d.quarter + ': $' + d.off_twitter + ' million');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 325).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(40 ' + xScale(earnings_stats.indexOf(d)) + ' 325)';\n  });\n  d3.select('text#y_axis_label').text('$' + d3.max(earnings_stats, function(d) {\n    return d.on_twitter;\n  }) + ' million');\n}());\n"]}