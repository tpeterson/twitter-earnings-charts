{"version":3,"sources":["ad_rev_growth.js"],"names":["earnings_stats","quarter","advertising_revenue_growth","xScale","d3","scaleLinear","domain","range","yScale","d","max","bar_area","append","select","attr","drawLine","line","x","indexOf","y","selectAll","data","enter","on","text"],"mappings":"cAAC,WACC,GAAMA,KADPC,QAAW,UACJD,2BAAkB,KAEpBC,QAAA,UACCC,2BAAA,KAEDD,QAAA,UACCC,2BAAA,KAEDD,QAAA,UACCC,2BAAA,KAEDD,QAAA,UACCC,2BAAA,KAEDD,QAAA,UACCC,2BAAA,KAEDD,QAAA,UACCC,2BAAA,IAEDD,QAAA,UACCC,2BAAA,IAIHD,QAAA,UACEC,2BADF,IAKIC,EAASC,GAAGC,cAAcC,QAOhC,EAGIN,EAASE,OAAAA,IAHEK,OASf,GACA,MAEKC,EAASC,GAAGJ,cAAAC,QACf,EAHFF,GAAAM,IAAAV,EAAA,SAAAS,GAKAE,MAASC,GAAAA,+BAEPL,OADF,EAGE,MAEAI,EAAAP,GAAAS,OAAA,eAAAD,OAAA,KAAAE,KAAA,KAAA,YACIC,EAASX,GAAAY,OAAAC,EAAY,SAAAR,GACzBL,MAAGS,GAAOb,EAAkBkB,QAAAT,MAP9BU,EAAA,SAAAV,GASAE,MAASS,KAAAA,EAAUX,EAAAP,6BAElBS,GAAOC,OAFR,QAEuBE,KAAK,IAAAC,EAAYf,IAAAc,KAAA,QAAA,YACtCH,EAAOR,UAAOH,mBAAAqB,KAAdrB,GAAAsB,QAAAV,OAAA,UAAAE,KAAA,QAAA,YAAAA,KAAA,KAAA,SAAAL,GAHF,MAIQN,GAAAH,EAAsBS,QAAGA,MAC/BK,KAAA,KAAO,SAAAL,GALT,MAAA,KAAAD,EAAAC,EAAAP,8BAOGW,KAAAA,IAAO,SAAAJ,GACR,MAAOA,KAD2Bc,GAE/B,QAFL,SAAAd,GAtEFL,GAAAS,OAAA,aAAAW,KAAA,iBAAAf,EAAAR,QAAA,kBAAAQ,EAAAP,2BAAA,sBA+DES,EAASS,UAAU,gBAAgBC,KAAKrB,GAAgBsB,QAAQV,OAAO,QAAQE,KAAK,QAAS,cAAcU,KAAK,SAASf,GACvH,MAAOA,GAAER,UACRa,KAAK,IAAK,KAAKA,KAAK,IAAK,SAASL,GACnC,MAAON,GAAOH,EAAekB,QAAQT,MACpCK,KAAK,YAAa,SAASL,GAC5B,MAAO,aAAeN,EAAOH,EAAekB,QAAQT,IAAM,UAE5DL,GAAGS,OAAO,qBAAqBW,KAAKpB,GAAGM,IAAIV,EAAgB,SAASS,GAClE,MAAOA,GAAEP,6BACN","file":"ad_rev_growth.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n      'quarter': 'Q1 2015',\n      'advertising_revenue_growth': 72\n    }, {\n      'quarter': 'Q2 2015',\n      'advertising_revenue_growth': 63\n    }, {\n      'quarter': 'Q3 2015',\n      'advertising_revenue_growth': 60\n    }, {\n      'quarter': 'Q4 2015',\n      'advertising_revenue_growth': 48\n    }, {\n      'quarter': 'Q1 2016',\n      'advertising_revenue_growth': 37\n    }, {\n      'quarter': 'Q2 2016',\n      'advertising_revenue_growth': 18\n    }, {\n      'quarter': 'Q3 2016',\n      'advertising_revenue_growth': 6\n    }, {\n      'quarter': 'Q4 2016',\n      'advertising_revenue_growth': 0\n    },\n    {\n      'quarter': 'Q1 2017',\n      'advertising_revenue_growth': 0\n    }\n  ];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.advertising_revenue_growth;\n    })\n  ]).range([\n    0,\n    275\n  ]);\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  const drawLine = d3.line().x(function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).y(function(d) {\n    return 300 - yScale(d.advertising_revenue_growth);\n  });\n  bar_area.append('path').attr('d', drawLine(earnings_stats)).attr('class', 'stat_one');\n  bar_area.selectAll('circle.stat_one').data(earnings_stats).enter().append('circle').attr('class', 'stat_one').attr('cx', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('cy', function(d) {\n    return 300 - yScale(d.advertising_revenue_growth);\n  }).attr('r', function(d) {\n    return 5;\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Ad revenue in ' + d.quarter + ' increased by: ' + d.advertising_revenue_growth + '% year-over-year');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 325).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(40 ' + xScale(earnings_stats.indexOf(d)) + ' 325)';\n  });\n  d3.select('text#y_axis_label').text(d3.max(earnings_stats, function(d) {\n    return d.advertising_revenue_growth;\n  }) + '%');\n}());\n"]}