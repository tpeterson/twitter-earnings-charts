{"version":3,"sources":["ad_rev_growth.js"],"names":["yAxisPoint","quarter","earnings_stats","advertising_revenue_growth","xScale","d3","range","yScale","scaleLinear","domain","bar_area","selectAll","d","select","text","append","drawLine","line","x","indexOf","y","attr","enter","on","data","max"],"mappings":"cAAC,WACC,GAAMA,GAAa,IAAbA,IAGFC,QAAW,UADTC,2BAAkB,KAEpBD,QAAA,UACCE,2BAAA,KAEDF,QAAA,UACCE,2BAAA,KAEDF,QAAA,UACCE,2BAAA,KAEDF,QAAA,UACCE,2BAAA,KAEDF,QAAA,UACCE,2BAAA,KAEDF,QAAA,UACCE,2BAAA,IAEDF,QAAA,UACCE,2BAAA,IAIHF,QAAA,UACEE,4BADF,KAKEF,QAAW,UACXE,4BAA+B,IAI/BF,QAAA,UAnCJE,4BAAA,IAgDIC,EAASD,GAAAA,cAAAA,QAH0B,EASvCD,EAAiBG,OAAU,IAC3BC,OACE,GADe,MAAjBC,EAAAF,GAAAG,cAAAC,QAKAC,EACAA,GAAAA,IAASC,EAAU,SAAAC,GACjB,MAAOR,GAAAA,+BAEPE,OAHF,EAKEN,EAAA,KAEGa,EAAOR,GAAAQ,OAAaC,eAAvBC,OAA6CH,KAAEX,KAA/C,KAAA,YAPFe,EAAAX,GAAAY,OAAAC,EAAA,SAAAN,GASAF,MAASC,GAAAA,EAAUQ,QAAnBP,MACEQ,EAAA,SAASnB,GADX,MAEQD,GAFRO,EAE4BK,EAAAT,6BAE3BO,GAAOK,OAAA,QAAaM,KAAA,IAAYL,EAAAd,IAAAmB,KAAA,QAAA,YAC/BX,EAAOC,UAAA,mBAAsBT,KAAAA,GAAtBoB,QAAPP,OAAA,UAAAM,KAAA,QAAA,YAAAA,KAAA,KAAA,SAAAT,GALF,MAAAR,GAAAF,EAAAiB,QAAAP,MAOGC,KAAAA,KAAO,SAAAD,GACR,MAAOA,GAAET,EAAAA,EAAAA,8BADyBkB,KAApC,IAAA,SAAAT,GAhFF,MAAA,KAsEKW,GAAG,QAAS,SAASX,GACtBP,GAAGQ,OAAO,aAAaC,KAAvB,iBAA6CF,EAAEX,QAA/C,KAA0DW,EAAET,4BAA8B,EAAI,gBAAkB,iBAAhH,IAAmIS,EAAET,2BAArI,sBAEFO,EAASC,UAAU,gBAAgBa,KAAKtB,GAAgBoB,QAAQP,OAAO,QAAQM,KAAK,QAAS,cAAcP,KAAK,SAASF,GACvH,MAAOA,GAAEX,UACRoB,KAAK,IAAK,KAAKA,KAAK,IAAK,SAAST,GACnC,MAAOR,GAAOF,EAAeiB,QAAQP,MACpCS,KAAK,YAAa,SAAST,GAC5B,MAAO,aAAeR,EAAOF,EAAeiB,QAAQP,IAAM,UAE5DP,GAAGQ,OAAO,qBAAqBC,KAAKT,GAAGoB,IAAIvB,EAAgB,SAASU,GAClE,MAAOA,GAAET,6BACN","file":"ad_rev_growth.js","sourcesContent":["(function() {\n  const yAxisPoint = 250;\n\n  const earnings_stats = [{\n      'quarter': 'Q1 2015',\n      'advertising_revenue_growth': 72\n    }, {\n      'quarter': 'Q2 2015',\n      'advertising_revenue_growth': 63\n    }, {\n      'quarter': 'Q3 2015',\n      'advertising_revenue_growth': 60\n    }, {\n      'quarter': 'Q4 2015',\n      'advertising_revenue_growth': 48\n    }, {\n      'quarter': 'Q1 2016',\n      'advertising_revenue_growth': 37\n    }, {\n      'quarter': 'Q2 2016',\n      'advertising_revenue_growth': 18\n    }, {\n      'quarter': 'Q3 2016',\n      'advertising_revenue_growth': 6\n    }, {\n      'quarter': 'Q4 2016',\n      'advertising_revenue_growth': 0\n    },\n    {\n      'quarter': 'Q1 2017',\n      'advertising_revenue_growth': -11\n    },\n    {\n      'quarter': 'Q2 2017',\n      'advertising_revenue_growth': -8\n    },\n    {\n      'quarter': 'Q3 2017',\n      'advertising_revenue_growth': -8\n    }\n  ];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.advertising_revenue_growth;\n    })\n  ]).range([\n    0,\n    yAxisPoint - 25\n  ]);\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  const drawLine = d3.line().x(function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).y(function(d) {\n    return yAxisPoint - yScale(d.advertising_revenue_growth);\n  });\n  bar_area.append('path').attr('d', drawLine(earnings_stats)).attr('class', 'stat_one');\n  bar_area.selectAll('circle.stat_one').data(earnings_stats).enter().append('circle').attr('class', 'stat_one').attr('cx', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('cy', function(d) {\n    return yAxisPoint - yScale(d.advertising_revenue_growth);\n  }).attr('r', function(d) {\n    return 5;\n  }).on('click', function(d) {\n    d3.select('#bar_info').text(`Ad revenue in ${d.quarter} ${d.advertising_revenue_growth >= 0 ? 'increased by:' : 'decreased by:'} ${d.advertising_revenue_growth}% year-over-year`);\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 325).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(40 ' + xScale(earnings_stats.indexOf(d)) + ' 325)';\n  });\n  d3.select('text#y_axis_label').text(d3.max(earnings_stats, function(d) {\n    return d.advertising_revenue_growth;\n  }) + '%');\n}());\n"]}