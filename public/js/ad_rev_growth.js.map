{"version":3,"sources":["ad_rev_growth.js"],"names":["earnings_stats","quarter","advertising_revenue_growth","xScale","d3","scaleLinear","domain","range","drawLine","line","max","d","bar_area","yScale","attr","x","indexOf","on","select","selectAll","enter","append","data","text"],"mappings":"cAAC,WACC,GAAMA,KADPC,QAAW,UACVC,2BAAwB,KAEtBD,QAAA,UAFqBC,2BAGpB,KAEDD,QAAA,UALqBC,2BAMpB,KAEDD,QAAA,UARqBC,2BASpB,KAEDD,QAAA,UAXqBC,2BAYpB,KAEDD,QAAA,UAdqBC,2BAepB,KAEDD,QAAA,UAjBqBC,2BAkBpB,IAEDD,QAAA,UApBqBC,2BAqBpB,IAEDC,EAAAC,GAAAC,cAA8BC,QAvBhC,EAyBAN,EAAkBK,OAAAA,IAOlBE,OAGI,GAHmC,MAUjCC,EAAWJ,GAAGK,cAASH,QAC3B,EADeF,GAEZM,IAAAV,EAAY,SAAAW,GACf,MAAOA,GAAAT,+BAETU,OACAA,EACE,MAEAA,EAAaC,GAAAA,OAASX,eAAAA,OAAAA,KAAtBY,KAAA,KAAA,YACCA,EAAUV,GAAAK,OAAYM,EAAA,SAAAJ,GACvB,MAAOR,GAAPH,EAAAgB,QAAAL,MACCM,EANH,SAAAN,GAOEP,MAAGc,KAAOL,EAAAF,EAAVT,6BAEFU,GAASO,OAAAA,QAAUL,KAAA,IAAnBN,EAAwCR,IAAgBoB,KAAQC,QAAO,YACrET,EAAOD,UAAP,mBAAAW,KAAAtB,GAAAoB,QAAAC,OAAA,UAAAP,KAAA,QAAA,YAAAA,KAAA,KAAA,SAAAH,GADF,MAEQR,GAFRH,EAE4BgB,QAAAL,MAC1BG,KAAA,KAAOX,SAAOH,GAHhB,MAIQ,KAAAa,EAAaF,EAAAT,8BACnBY,KAAA,IAAO,SAAAH,GALT,MAAA,KAOGO,GAAAA,QAAO,SAAAP,GACRP,GAAAc,OAAShB,aAAAA,KAAAA,iBAATS,EAAAV,QAAA,kBAAAU,EAAAT,2BAAA,sBAlEHU,EAADO,UAAA,gBAAAG,KAAAtB,GAAAoB,QAAAC,OAAA,QAAAP,KAAA,QAAA,cAAAS,KAAA,SAAAZ,GA2DI,MAAOA,GAAEV,UACRa,KAAK,IAAK,KAAKA,KAAK,IAAK,SAASH,GACnC,MAAOR,GAAOH,EAAegB,QAAQL,MACpCG,KAAK,YAAa,SAASH,GAC5B,MAAO,aAAeR,EAAOH,EAAegB,QAAQL,IAAM,UAE5DP,GAAGc,OAAO,qBAAqBK,KAAKnB,GAAGM,IAAIV,EAAgB,SAASW,GAClE,MAAOA,GAAET,6BACN","file":"ad_rev_growth.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n    'quarter': 'Q1 2015',\n    'advertising_revenue_growth': 72\n  }, {\n    'quarter': 'Q2 2015',\n    'advertising_revenue_growth': 63\n  }, {\n    'quarter': 'Q3 2015',\n    'advertising_revenue_growth': 60\n  }, {\n    'quarter': 'Q4 2015',\n    'advertising_revenue_growth': 48\n  }, {\n    'quarter': 'Q1 2016',\n    'advertising_revenue_growth': 37\n  }, {\n    'quarter': 'Q2 2016',\n    'advertising_revenue_growth': 18\n  }, {\n    'quarter': 'Q3 2016',\n    'advertising_revenue_growth': 6\n  }, {\n    'quarter': 'Q4 2016',\n    'advertising_revenue_growth': 0\n  }];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    500\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.advertising_revenue_growth;\n    })\n  ]).range([\n    0,\n    275\n  ]);\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  const drawLine = d3.line().x(function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).y(function(d) {\n    return 300 - yScale(d.advertising_revenue_growth);\n  });\n  bar_area.append('path').attr('d', drawLine(earnings_stats)).attr('class', 'stat_one');\n  bar_area.selectAll('circle.stat_one').data(earnings_stats).enter().append('circle').attr('class', 'stat_one').attr('cx', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('cy', function(d) {\n    return 300 - yScale(d.advertising_revenue_growth);\n  }).attr('r', function(d) {\n    return 5;\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Ad revenue in ' + d.quarter + ' increased by: ' + d.advertising_revenue_growth + '% year-over-year');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 325).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(40 ' + xScale(earnings_stats.indexOf(d)) + ' 325)';\n  });\n  d3.select('text#y_axis_label').text(d3.max(earnings_stats, function(d) {\n    return d.advertising_revenue_growth;\n  }) + '%');\n}());\n"]}