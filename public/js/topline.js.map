{"version":3,"sources":["topline.js"],"names":["earnings_stats","quarter","total_revenue","advertising_revenue","net_income","xScale","d3","scaleLinear","domain","range","bar_area","selectAll","attr","d","append","data","enter","bar_width","i","yScale","on","select","text","indexOf","Math","abs","max"],"mappings":"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","file":"topline.js","sourcesContent":["(function() {\n  const earnings_stats = [{\n    'quarter': 'Q1 2015',\n    'total_revenue': 436,\n    'advertising_revenue': 388.2,\n    'net_income': -162.4\n  }, {\n    'quarter': 'Q2 2015',\n    'total_revenue': 502.4,\n    'advertising_revenue': 452.3,\n    'net_income': -136.7\n  }, {\n    'quarter': 'Q3 2015',\n    'total_revenue': 569.2,\n    'advertising_revenue': 512.9,\n    'net_income': -131.7\n  }, {\n    'quarter': 'Q4 2015',\n    'total_revenue': 710.5,\n    'advertising_revenue': 640.7,\n    'net_income': -90.2\n  }, {\n    'quarter': 'Q1 2016',\n    'total_revenue': 594.5,\n    'advertising_revenue': 530.7,\n    'net_income': -79.7\n  }, {\n    'quarter': 'Q2 2016',\n    'total_revenue': 602,\n    'advertising_revenue': 534.5,\n    'net_income': -107.2\n  }, {\n    'quarter': 'Q3 2016',\n    'total_revenue': 615.9,\n    'advertising_revenue': 545.0,\n    'net_income': -103\n  },\n{\n  'quarter': 'Q4 2016',\n  'total_revenue': 717.2,\n  'advertising_revenue': 637.8,\n  'net_income': -167\n}];\n  const xScale = d3.scaleLinear().domain([\n    0,\n    earnings_stats.length - 1\n  ]).range([\n    25,\n    700\n  ]);\n  const yScale = d3.scaleLinear().domain([\n    0,\n    d3.max(earnings_stats, function(d) {\n      return d.total_revenue;\n    })\n  ]).range([\n    0,\n    175\n  ]);\n  const bar_width = 25;\n  const bar_area = d3.select('#main_chart').append('g').attr('id', 'bar_area');\n  bar_area.selectAll('rect.stat_one').data(earnings_stats).enter().append('rect').attr('class', 'stat_one').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.total_revenue);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('y', function(d) {\n    return 200 - yScale(d.total_revenue);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Total revenue in ' + d.quarter + ': $' + d.total_revenue + ' million');\n  });\n  bar_area.selectAll('rect.stat_two').data(earnings_stats).enter().append('rect').attr('class', 'stat_two').attr('width', bar_width).attr('height', function(d) {\n    return yScale(d.advertising_revenue);\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d)) + bar_width;\n  }).attr('y', function(d) {\n    return 200 - yScale(d.advertising_revenue);\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Advertising revenue in ' + d.quarter + ': $' + d.advertising_revenue + ' million');\n  });\n  bar_area.selectAll('rect.stat_three').data(earnings_stats).enter().append('rect').attr('class', 'stat_three').attr('width', bar_width).attr('height', function(d) {\n    return yScale(Math.abs(d.net_income));\n  }).attr('x', function(d, i) {\n    return xScale(earnings_stats.indexOf(d)) + bar_width + bar_width;\n  }).attr('y', function(d) {\n    return d.net_income > 0 ? 200 - yScale(d.net_income) : 200;\n  }).on('click', function(d) {\n    d3.select('#bar_info').text('Net income in ' + d.quarter + ': ' + (d.net_income > 0 ? '$' + d.net_income : '-$' + Math.abs(d.net_income)) + ' million');\n  });\n  bar_area.selectAll('text.x_label').data(earnings_stats).enter().append('text').attr('class', 'axis_label').text(function(d) {\n    return d.quarter;\n  }).attr('y', 205).attr('x', function(d) {\n    return xScale(earnings_stats.indexOf(d));\n  }).attr('transform', function(d) {\n    return 'rotate(90 ' + (xScale(earnings_stats.indexOf(d))) + ' 205)';\n  });\n  d3.select('text#y_axis_label').text('$' + d3.max(earnings_stats, function(d) {\n    return d.total_revenue;\n  }) + ' million');\n}());\n"]}